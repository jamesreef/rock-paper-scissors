<!DOCTYPE html>
<html>
    <head>
        <title>Rock, paper, scissors!</title>
    </head>
    <body>
        <script>
        let playerSelection;
        let computerSelection = computerPlay();         
        let computerScore = 0;
        let playerScore = 0;

        function getRandomValue() {
        return Math.floor(Math.random() * 3) + 1; 
        } //This method gets random value.

        function computerPlay() {
            let randomValue = getRandomValue();
            if (randomValue == 1) {
                return "rock";
            } else if (randomValue == 2) {
                return"paper";
            } else {
                return "scissors";
            }
        } //This method ascribes previously random generated number to proper value.

        function playRound(playerSelection, computerSelection) {
            playerSelection = prompt("Rock, paper, scissors?").toLowerCase();
            //This method asks player to prompt a weapon of choice
            if ((computerSelection === "rock" && playerSelection === "rock") || 
                (computerSelection === "paper" && playerSelection === "paper") || 
                (computerSelection === "scissors" && playerSelection === "scissors")) {
                return "It's a tie!";
            } else if ((computerSelection === "paper" && playerSelection === "rock") || 
                (computerSelection === "scissors" && playerSelection === "paper") || 
                (computerSelection === "rock" && playerSelection === "scissors")) {
                computerScore++;
                return "Computer wins this round!";
            } else if ((playerSelection === "paper" && computerSelection === "rock") || 
                (playerSelection === "scissors" && computerSelection === "paper") || 
                (playerSelection === "rock" && computerSelection === "scissors")) {
                playerScore++;
                return "You win this round!";
            } else {
                return "You have to choose your weapon!";
            }
        } //playRound function decides who wins the round and adds points to the winner.

        function playGame() {
            while (playerScore <= 3 && computerScore <= 3) {
            alert(playRound(playerSelection, computerPlay()));
            if (playerScore == 3) {
                alert("You win with " + playerScore + " to " + computerScore + 
                ". Refresh the page to play again!");
                break;
            } else if (computerScore == 3) {
                alert("You lose this time. Computer's score: " + computerScore + 
                " Your score: " + playerScore + ". Refresh the page to play again!");
                break;
            }
            }
        } //This method lets a person play against computer up to 3 victories.
        playGame();
        </script>
    </body>
</html>